"use strict";(self.webpackChunksmartlocker_workspace=self.webpackChunksmartlocker_workspace||[]).push([[264],{3264:(M,p,e)=>{e.r(p),e.d(p,{LoginModule:()=>S});var c=e(8583),m=e(9895),i=e(3679),s=e(9090),n=e(7716),z=e(7018),d=e(6704),h=e(2677),l=e(5887),E=e(4514),u=e(7674),f=e(2079),v=e(4453),L=e(9374),Z=e(3385),T=e(480),A=e(3599);function x(t,a){if(1&t&&n._UZ(0,"nz-alert",28),2&t){const o=n.oxw();n.Q6J("nzMessage",o.errorMsg)}}function y(t,a){if(1&t){const o=n.EpF();n.TgZ(0,"i",29),n.NdJ("click",function(){n.CHM(o);const g=n.oxw();return g.passwordVisible=!g.passwordVisible}),n.qZA()}if(2&t){const o=n.oxw();n.Q6J("nzType",o.passwordVisible?"eye-invisible":"eye")}}const b=[{path:"",component:(()=>{class t{constructor(o,r,g){this.fb=o,this.baseService=r,this.router=g,this.passwordVisible=!1,this.isLoginLoading=!1}ngOnInit(){this.baseService.isLogin()&&this.router.navigateByUrl("/home"),this.validateForm=this.fb.group({userName:[null,[i.kI.required]],password:[null,[i.kI.required,i.kI.minLength(5)]],remember:[!1]})}submitForm(){for(const o in this.validateForm.controls)this.validateForm.controls.hasOwnProperty(o)&&(this.validateForm.controls[o].markAsDirty(),this.validateForm.controls[o].updateValueAndValidity());this.validateForm.invalid||(this.isLoginLoading=!0,this.baseService.login(this.validateForm.get("userName").value,this.validateForm.get("password").value,this.validateForm.get("remember").value).subscribe(o=>{this.getSaveToken(o)},o=>{this.isLoginLoading=!1,this.errorMsg=401==o.status?"T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u ch\u01b0a ch\xednh x\xe1c":o.message}))}getSaveToken(o){o.id_token?(this.validateForm.get("remember").value?(this.baseService.storeAccessToken(o.id_token,2592e6),s.Ct.addCache(s.gT.CACHE_REMEMBER_ME,"1",s.Ct.COOKIE,2592e6)):(this.baseService.storeAccessToken(o.id_token,864e5),s.Ct.addCache(s.gT.CACHE_REMEMBER_ME,"0",s.Ct.COOKIE,864e5)),setTimeout(()=>{this.router.navigateByUrl("/home")},200)):(this.isLoginLoading=!1,this.errorMsg="Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin Token")}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(i.qu),n.Y36(s.bQ),n.Y36(m.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["cms-login"]],decls:41,vars:10,consts:[[1,"login-wrapper"],["nz-row",""],["nz-col","","nzXs","24","nzSm","24","nzMd","12","nzLg","12","nzXl","12",1,"text-center","left-login"],[1,"mb-3"],["src","/assets/logo.svg"],["nz-typography",""],[1,"mb-4"],["src","/assets/login-divider.png"],["nzType","error","nzCloseable","","class","mb-4 text-left",3,"nzMessage",4,"ngIf"],["nz-form","",1,"login-form",3,"formGroup","ngSubmit"],["nzErrorTip","Vui l\xf2ng nh\u1eadp th\xf4ng tin t\xe0i kho\u1ea3n!"],["nzPrefixIcon","user","nzSize","large"],["type","text","nz-input","","formControlName","userName","placeholder","T\xean \u0111\u0103ng nh\u1eadp"],["nzErrorTip","M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c tr\u1ed1ng v\xe0 t\u1ed1i thi\u1ec3u 5 k\xfd t\u1ef1!"],["nzPrefixIcon","lock","nzSize","large",3,"nzSuffix"],["nz-input","","formControlName","password","placeholder","M\u1eadt kh\u1ea9u","nzSize","large",3,"type"],["suffixTemplate",""],["nz-col","",1,"text-left","mb-4",3,"nzSpan"],["nz-checkbox","","formControlName","remember"],["nz-button","","nzBlock","","nzSize","large",1,"mt-2",3,"nzType","nzLoading"],["nz-row","",1,"login-form-margin","mt-4"],["nz-col","",3,"nzSpan"],["href","javascript:void(0);",1,"login-form-forgot"],["nzPlain","","nzText","Ho\u1eb7c"],["href","javascript:void(0);","nz-button","","nzBlock","","nzSize","large",1,"login-form-button","login-form-margin",3,"nzType","disabled"],["nz-col","","nzXs","0","nzSm","0","nzMd","12","nzLg","12","nzXl","12",1,"right-login"],[1,"text-center","mt-5"],["nz-typography","","nzType","secondary"],["nzType","error","nzCloseable","",1,"mb-4","text-left",3,"nzMessage"],["nz-icon","",3,"nzType","click"]],template:function(o,r){if(1&o&&(n.TgZ(0,"div",0),n.TgZ(1,"nz-card"),n.TgZ(2,"div",1),n.TgZ(3,"div",2),n.TgZ(4,"div",3),n._UZ(5,"img",4),n.qZA(),n.TgZ(6,"h1",5),n._uU(7,"Smart Locker"),n.qZA(),n.TgZ(8,"div",6),n._UZ(9,"img",7),n.qZA(),n.TgZ(10,"div"),n.YNc(11,x,1,1,"nz-alert",8),n.TgZ(12,"form",9),n.NdJ("ngSubmit",function(){return r.submitForm()}),n.TgZ(13,"nz-form-item"),n.TgZ(14,"nz-form-control",10),n.TgZ(15,"nz-input-group",11),n._UZ(16,"input",12),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"nz-form-item"),n.TgZ(18,"nz-form-control",13),n.TgZ(19,"nz-input-group",14),n._UZ(20,"input",15),n.qZA(),n.YNc(21,y,1,1,"ng-template",null,16,n.W1O),n.qZA(),n.qZA(),n.TgZ(23,"div",1),n.TgZ(24,"div",17),n.TgZ(25,"label",18),n.TgZ(26,"span"),n._uU(27,"Ghi nh\u1edb m\u1eadt kh\u1ea9u"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(28,"button",19),n._uU(29," \u0110\u0103ng Nh\u1eadp "),n.qZA(),n.qZA(),n.TgZ(30,"div",20),n.TgZ(31,"div",21),n.TgZ(32,"a",22),n._uU(33,"B\u1ea1n qu\xean m\u1eadt kh\u1ea9u?"),n.qZA(),n.qZA(),n.qZA(),n._UZ(34,"nz-divider",23),n.TgZ(35,"a",24),n._uU(36,"\u0110\u0103ng Nh\u1eadp b\u1eb1ng Viettel SSO"),n.qZA(),n.qZA(),n.qZA(),n._UZ(37,"div",25),n.qZA(),n.qZA(),n.TgZ(38,"div",26),n.TgZ(39,"span",27),n._uU(40,"\xa92021 by ViettelPost SmartLocker"),n.qZA(),n.qZA(),n.qZA()),2&o){const g=n.MAs(22);n.xp6(11),n.Q6J("ngIf",r.errorMsg),n.xp6(1),n.Q6J("formGroup",r.validateForm),n.xp6(7),n.Q6J("nzSuffix",g),n.xp6(1),n.Q6J("type",r.passwordVisible?"text":"password"),n.xp6(4),n.Q6J("nzSpan",24),n.xp6(4),n.Q6J("nzType","primary")("nzLoading",r.isLoginLoading),n.xp6(3),n.Q6J("nzSpan",24),n.xp6(4),n.Q6J("nzType","primary")("disabled",r.isLoginLoading)}},directives:[z.bd,d.SK,d.t3,h.ZU,c.O5,i._Y,i.JL,l.Lr,i.sg,l.Nx,l.Fd,E.w,u.gB,u.Zp,i.Fj,i.JJ,i.u,u.ke,f.Ie,v.ix,L.dQ,Z.g,T.r,A.Ls],styles:[".login-wrapper[_ngcontent-%COMP%]{max-width:1000px;margin:auto;padding-top:6%;padding-left:15px;padding-right:15px}.right-login[_ngcontent-%COMP%]{background-image:url(/assets/login-cover.jpg);background-size:cover;background-repeat:no-repeat;background-position:center center;margin:-20px -20px -20px 20px;min-height:500px}.left-login[_ngcontent-%COMP%]{padding:30px 20px}"]}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[m.Bz.forChild(b)],m.Bz]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[c.ez,C,z.vh,v.sL,h.ZJ,d.Jb,l.U5,i.u5,i.UX,u.o7,f.Wr,Z.S,A.PV,s.IR,T.L]]}),t})()}}]);