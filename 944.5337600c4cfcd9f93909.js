"use strict";(self.webpackChunksmartlocker_workspace=self.webpackChunksmartlocker_workspace||[]).push([[944],{86944:(ie,v,a)=>{a.r(v),a.d(v,{DeviceCategoryModule:()=>ne});var g=a(38583),A=a(39895),u=a(3679),c=a(34100),e=a(37716),C=a(2171),p=a(14453),z=a(84514),m=a(53599),T=a(84828),y=a(39710),h=a(26214),l=a(43654);function x(o,i){1&o&&e._UZ(0,"i",10)}function F(o,i){1&o&&e._UZ(0,"i",11)}function E(o,i){1&o&&e._UZ(0,"i",10)}function q(o,i){1&o&&e._UZ(0,"i",11)}function I(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.YNc(12,x,1,0,"i",4),e.YNc(13,F,1,0,"i",5),e.qZA(),e.TgZ(14,"td"),e.YNc(15,E,1,0,"i",4),e.YNc(16,q,1,0,"i",5),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"button",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editItemGroup(r)}),e._UZ(19,"i",7),e.qZA(),e.TgZ(20,"button",8),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteItemGroup(r)}),e._UZ(21,"i",9),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.category.name),e.xp6(2),e.Oqu(t.unit),e.xp6(2),e.Q6J("ngIf",1==t.isLockerCabinet),e.xp6(1),e.Q6J("ngIf",0==t.isLockerCabinet),e.xp6(2),e.Q6J("ngIf",1==t.isBlock),e.xp6(1),e.Q6J("ngIf",0==t.isBlock)}}function S(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("T\u1ed5ng ",t.total," b\u1ea3n ghi")}}function N(o,i){if(1&o&&e.YNc(0,S,2,1,"span",12),2&o){const t=e.oxw();e.Q6J("ngIf",t.total)}}let k=(()=>{class o{constructor(t,n,s){this.deviceCategory=t,this.modal=n,this.baseService=s,this.deviceCategory.reloadItemList$.subscribe(r=>{this.getListDeviceItem()})}ngOnInit(){this.page=1,this.size=10,this.getListDeviceItem()}getListDeviceItem(){this.deviceCategory.getDeviceItem(this.page-1,this.size).subscribe(t=>{0==t.error&&this.responseProcess(t)})}pageChange(t){this.page=t,this.getListDeviceItem()}responseProcess(t){this.listOfData=[],console.log("data category",t),this.total=t.data.total,null!=t.data.data&&(this.total=t.data.total,t.data.data.forEach(n=>{let s=new y.W(n);this.listOfData.push(s)}))}editItemGroup(t){this.deviceCategory.showEditCategoryItem(t)}deleteItemGroup(t){this.modal.confirm({nzTitle:`<i>B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a thi\u1ebft b\u1ecb <b>${t.name}</b> n\xe0y kh\xf4ng?</i>`,nzOnOk:()=>{this.baseService.showLoading(!0),this.deviceCategory.deleteDeviceItem(t.id).subscribe(n=>{this.baseService.showLoading(!1),0===n.error&&(this.baseService.showToast("X\xf3a nh\xf3m thi\u1ebft b\u1ecb th\xe0nh c\xf4ng",c.gT.TOAST_OK),this.getListDeviceItem())},()=>{this.baseService.showLoading(!1)})},nzClosable:!1,nzCancelText:"T\xf4i kh\xf4ng mu\u1ed1n",nzOkText:"\u0110\u1ed3ng \xfd"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.e),e.Y36(h.Sf),e.Y36(c.bQ))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cms-list-device-category"]],decls:24,vars:7,consts:[[3,"nzData","nzFrontPagination","nzPageSize","nzPageIndex","nzTotal","nzFooter","nzPageIndexChange"],["basicTable",""],[4,"ngFor","ngForOf"],["footer",""],["nz-icon","","style","color: #18c607","nzType","check","nzTheme","outline",4,"ngIf"],["style","color: #ee230f","nz-icon","","nzType","close","nzTheme","outline",4,"ngIf"],["nz-button","","nzType","text","title","S\u1eeda",1,"pr-1",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nzType","text","title","X\xf3a",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline",1,"text-danger"],["nz-icon","","nzType","check","nzTheme","outline",2,"color","#18c607"],["nz-icon","","nzType","close","nzTheme","outline",2,"color","#ee230f"],[4,"ngIf"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-table",0,1),e.NdJ("nzPageIndexChange",function(r){return n.pageChange(r)}),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"STT"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"M\xe3 thi\u1ebft b\u1ecb"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"T\xean thi\u1ebft b\u1ecb"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Nh\xf3m thi\u1ebft b\u1ecb"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"\u0110\u01a1n v\u1ecb"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Loker"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Block"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"H\xe0nh \u0111\u1ed9ng"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"tbody"),e.YNc(21,I,22,9,"tr",2),e.qZA(),e.YNc(22,N,1,1,"ng-template",null,3,e.W1O),e.qZA()),2&t){const s=e.MAs(1),r=e.MAs(23);e.Q6J("nzData",n.listOfData)("nzFrontPagination",!1)("nzPageSize",n.size)("nzPageIndex",n.page)("nzTotal",n.total)("nzFooter",r),e.xp6(21),e.Q6J("ngForOf",s.data)}},directives:[l.N8,l.Om,l.$Z,l.Uo,l._C,l.p0,g.sg,g.O5,p.ix,z.w,m.Ls],styles:[""]}),o})();class O{constructor(i){this.parse(i)}parse(i){this.id=i.id,this.name=i.name,this.note=i.note}}function L(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"button",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editCategoryGroup(r)}),e._UZ(11,"i",5),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteCategoryGroup(r)}),e._UZ(13,"i",7),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.note)}}function w(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("T\u1ed5ng ",t.total," b\u1ea3n ghi")}}function U(o,i){if(1&o&&e.YNc(0,w,2,1,"span",8),2&o){const t=e.oxw();e.Q6J("ngIf",t.total)}}let B=(()=>{class o{constructor(t,n,s){this.deviceCategory=t,this.modal=n,this.baseService=s,this.deviceCategory.reloadGroupList$.subscribe(r=>{this.getListDeviceCategory()})}ngOnInit(){this.size=10,this.page=1,this.getListDeviceCategory()}getListDeviceCategory(){this.deviceCategory.getDeviceCategory(this.page-1,this.size).subscribe(t=>{this.responseProcess(t)})}pageChange(t){this.page=t,this.getListDeviceCategory()}responseProcess(t){this.listOfData=[],this.total=t.data.total,null!=t.data.data&&t.data.data.forEach(n=>{let s=new O(n);this.listOfData.push(s)})}editCategoryGroup(t){this.deviceCategory.showEditCategoryGroup(t)}deleteCategoryGroup(t){this.modal.confirm({nzTitle:`<i>B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a nh\xf3m thi\u1ebft b\u1ecb <b>${t.name}</b> n\xe0y kh\xf4ng?</i>`,nzOnOk:()=>{this.baseService.showLoading(!0),this.deviceCategory.deleteDeviceCategory(t.id).subscribe(n=>{this.baseService.showLoading(!1),0===n.error&&(this.baseService.showToast("X\xf3a nh\xf3m thi\u1ebft b\u1ecb th\xe0nh c\xf4ng",c.gT.TOAST_OK),this.getListDeviceCategory())},()=>{this.baseService.showLoading(!1)})},nzClosable:!1,nzCancelText:"T\xf4i kh\xf4ng mu\u1ed1n",nzOkText:"\u0110\u1ed3ng \xfd"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.e),e.Y36(h.Sf),e.Y36(c.bQ))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cms-list-group-device-category"]],decls:18,vars:7,consts:[[3,"nzData","nzFooter","nzFrontPagination","nzPageSize","nzPageIndex","nzTotal","nzPageIndexChange"],["basicTable",""],[4,"ngFor","ngForOf"],["footer",""],["nz-button","","nzType","text","title","S\u1eeda",1,"mr-1",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nzType","text","title","X\xf3a",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline",1,"text-danger"],[4,"ngIf"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-table",0,1),e.NdJ("nzPageIndexChange",function(r){return n.pageChange(r)}),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"STT"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"M\xe3 thi\u1ebft b\u1ecb"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"T\xean nh\xf3m thi\u1ebft b\u1ecb"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Ghi ch\xfa"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"H\xe0nh \u0111\u1ed9ng"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"tbody"),e.YNc(15,L,14,4,"tr",2),e.qZA(),e.YNc(16,U,1,1,"ng-template",null,3,e.W1O),e.qZA()),2&t){const s=e.MAs(1),r=e.MAs(17);e.Q6J("nzData",n.listOfData)("nzFooter",r)("nzFrontPagination",!1)("nzPageSize",n.size)("nzPageIndex",n.page)("nzTotal",n.total),e.xp6(15),e.Q6J("ngForOf",s.data)}},directives:[l.N8,l.Om,l.$Z,l.Uo,l._C,l.p0,g.sg,p.ix,z.w,m.Ls,g.O5],styles:["td[_ngcontent-%COMP%]{min-width:250px!important}"]}),o})();var J=a(23815);function G(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"button",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editDepot(r)}),e._UZ(13,"i",5),e.qZA(),e.TgZ(14,"button",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteDepot(r)}),e._UZ(15,"i",7),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.phone)}}function V(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("T\u1ed5ng ",t.totalPage," b\u1ea3n ghi")}}function Q(o,i){if(1&o&&e.YNc(0,V,2,1,"span",8),2&o){const t=e.oxw();e.Q6J("ngIf",t.totalPage)}}let X=(()=>{class o{constructor(t,n,s,r){this.baseService=t,this.fb=n,this.deviceCategoryService=s,this.modal=r,this.pageNumber=1,this.pageSize=10,this.deviceCategoryService.reloadDepotLocker$.subscribe(()=>{this.pageNumber=1,this.pageSize=10,this.getAllDepot()})}ngOnInit(){this.pageNumber=1,this.pageSize=10,this.getAllDepot()}onPageChange(t){this.pageNumber=t,this.getAllDepot()}editDepot(t){this.deviceCategoryService.editDepot(t)}deleteDepot(t){this.modal.confirm({nzTitle:`<i>B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a kho h\xe0ng <b>${t.name}</b> n\xe0y kh\xf4ng?</i>`,nzOnOk:()=>{this.baseService.showLoading(!0),this.deviceCategoryService.deleteDepotItem(t.id).subscribe(n=>{this.baseService.showLoading(!1),0===n.error&&(this.baseService.showToast("X\xf3a kho h\xe0ng th\xe0nh c\xf4ng",c.gT.TOAST_OK),this.getAllDepot())},()=>{this.baseService.showLoading(!1)})},nzClosable:!1,nzCancelText:"T\xf4i kh\xf4ng mu\u1ed1n",nzOkText:"\u0110\u1ed3ng \xfd"})}getAllDepot(){this.baseService.showLoading(!0),this.deviceCategoryService.getAllDepot(this.pageNumber-1,this.pageSize).subscribe(t=>{this.baseService.showLoading(!1),t&&t.data.data&&(this.lstDepot=[],J.each(t.data.data,n=>{this.lstDepot.push(n)}),this.totalPage=t.data.total)},t=>{console.log("Kh\xf4ng g\u1eedi \u0111\u01b0\u1ee3c y\xeau c\u1ea7u l\u1ea5y th\xf4ng tin",t)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.bQ),e.Y36(u.qu),e.Y36(C.e),e.Y36(h.Sf))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cms-depot"]],decls:20,vars:7,consts:[[3,"nzData","nzFrontPagination","nzPageSize","nzPageIndex","nzTotal","nzFooter","nzPageIndexChange"],["basicTable",""],[4,"ngFor","ngForOf"],["footer",""],["nz-button","","nzType","text","title","S\u1eeda",1,"mr-1",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nzType","text","title","X\xf3a",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline",1,"text-danger"],[4,"ngIf"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-table",0,1),e.NdJ("nzPageIndexChange",function(r){return n.onPageChange(r)}),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"STT"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"M\xe3 kho h\xe0ng"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"T\xean kho h\xe0ng"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"\u0110\u1ecba ch\u1ec9"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"H\xe0nh \u0111\u1ed9ng"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"tbody"),e.YNc(17,G,16,5,"tr",2),e.qZA(),e.YNc(18,Q,1,1,"ng-template",null,3,e.W1O),e.qZA()),2&t){const s=e.MAs(1),r=e.MAs(19);e.Q6J("nzData",n.lstDepot)("nzFrontPagination",!1)("nzPageSize",n.pageSize)("nzPageIndex",n.pageNumber)("nzTotal",n.totalPage)("nzFooter",r),e.xp6(17),e.Q6J("ngForOf",s.data)}},directives:[l.N8,l.Om,l.$Z,l.Uo,l._C,l.p0,g.sg,p.ix,z.w,m.Ls,g.O5],styles:[""]}),o})();var d=a(75887),Z=a(16704),f=a(57674),M=a(29374),b=a(71398),D=a(80269);function P(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",16),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().submitGroup()}),e.TgZ(2,"nz-form-item"),e.TgZ(3,"nz-form-label",17),e.TgZ(4,"span"),e._uU(5,"T\xean nh\xf3m thi\u1ebft b\u1ecb"),e.qZA(),e.qZA(),e.TgZ(6,"nz-form-control",18),e._UZ(7,"input",19),e.qZA(),e.qZA(),e.TgZ(8,"nz-form-item"),e.TgZ(9,"nz-form-label",20),e.TgZ(10,"span"),e._uU(11,"Ghi ch\xfa"),e.qZA(),e.qZA(),e.TgZ(12,"nz-form-control",21),e._UZ(13,"textarea",22),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.createGroupForm)("nzLayout","vertical"),e.xp6(2),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24),e.xp6(3),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24)}}function Y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitGroup()}),e._uU(2),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelGroup()}),e._uU(4,"H\u1ee7y"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("nzLoading",t.groupSubmitting),e.xp6(1),e.hij(" ",t.editGroupFlag?"C\u1eadp nh\u1eadt nh\xf3m thi\u1ebft b\u1ecb":"T\u1ea1o m\u1edbi nh\xf3m thi\u1ebft b\u1ecb"," ")}}function R(o,i){if(1&o&&e._UZ(0,"nz-option",39),2&o){const t=i.$implicit;e.Q6J("nzValue",t.id)("nzLabel",t.name)}}function H(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",25),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().submitItem()}),e.TgZ(2,"nz-form-item"),e.TgZ(3,"nz-form-control",26),e.TgZ(4,"nz-radio-group",27),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().onChangeType()}),e.TgZ(5,"label",28),e._uU(6,"Locker"),e.qZA(),e.TgZ(7,"label",28),e._uU(8,"Block"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"nz-form-item"),e.TgZ(10,"nz-form-label",29),e.TgZ(11,"span"),e._uU(12,"T\xean thi\u1ebft b\u1ecb"),e.qZA(),e.qZA(),e.TgZ(13,"nz-form-control",30),e._UZ(14,"input",31),e.qZA(),e.qZA(),e.TgZ(15,"nz-form-item"),e.TgZ(16,"nz-form-label",32),e.TgZ(17,"span"),e._uU(18,"T\xean nh\xf3m thi\u1ebft b\u1ecb"),e.qZA(),e.qZA(),e.TgZ(19,"nz-form-control",33),e.TgZ(20,"nz-select",34),e.YNc(21,R,1,2,"nz-option",35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"nz-form-item"),e.TgZ(23,"nz-form-label",36),e.TgZ(24,"span"),e._uU(25,"\u0110\u01a1n v\u1ecb"),e.qZA(),e.qZA(),e.TgZ(26,"nz-form-control",37),e._UZ(27,"input",38),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.createItemForm),e.xp6(4),e.Q6J("nzValue",1),e.xp6(2),e.Q6J("nzValue",2),e.xp6(3),e.Q6J("nzXs",24),e.xp6(3),e.Q6J("nzXs",24),e.xp6(3),e.Q6J("nzXs",24),e.xp6(3),e.Q6J("nzXs",24),e.xp6(2),e.Q6J("ngForOf",t.listOfCategory),e.xp6(2),e.Q6J("nzXs",24),e.xp6(3),e.Q6J("nzXs",24)}}function $(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitItem()}),e._uU(2),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelItem()}),e._uU(4,"H\u1ee7y"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("nzLoading",t.itemSubmitting),e.xp6(1),e.hij(" ",t.editItemFlag?"C\u1eadp nh\u1eadp ":"T\u1ea1o m\u1edbi thi\u1ebft b\u1ecb"," ")}}function K(o,i){1&o&&(e.TgZ(0,"p",56),e._uU(1," M\xe3 kho h\xe0ng \u0111\xe3 t\u1ed3n t\u1ea1i ! "),e.qZA())}function j(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",40),e.TgZ(2,"nz-form-item"),e.TgZ(3,"nz-form-label",41),e.TgZ(4,"span"),e._uU(5,"M\xe3 kho h\xe0ng"),e.qZA(),e.qZA(),e.TgZ(6,"nz-form-control",42),e.TgZ(7,"input",43),e.NdJ("keyup.enter",function(){return e.CHM(t),e.oxw().changeCodeDepot()})("blur",function(){return e.CHM(t),e.oxw().changeCodeDepot()}),e.qZA(),e.YNc(8,K,2,0,"p",44),e.qZA(),e.qZA(),e.TgZ(9,"nz-form-item"),e.TgZ(10,"nz-form-label",45),e.TgZ(11,"span"),e._uU(12,"T\xean kho h\xe0ng"),e.qZA(),e.qZA(),e.TgZ(13,"nz-form-control",46),e._UZ(14,"input",47),e.qZA(),e.qZA(),e.TgZ(15,"nz-form-item"),e.TgZ(16,"nz-form-label",48),e.TgZ(17,"span"),e._uU(18,"\u0110\u1ecba ch\u1ec9 "),e.qZA(),e.qZA(),e.TgZ(19,"nz-form-control",21),e._UZ(20,"input",49),e.qZA(),e.qZA(),e.TgZ(21,"nz-form-item"),e.TgZ(22,"nz-form-label",50),e.TgZ(23,"span"),e._uU(24,"SDT "),e.qZA(),e.qZA(),e.TgZ(25,"nz-form-control",21),e._UZ(26,"input",51),e.qZA(),e.qZA(),e.TgZ(27,"nz-form-item"),e.TgZ(28,"nz-form-label",52),e.TgZ(29,"span"),e._uU(30,"Ghi ch\xfa"),e.qZA(),e.qZA(),e.TgZ(31,"nz-form-control",53),e.TgZ(32,"nz-textarea-count",54),e._UZ(33,"textarea",55),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.createDepotForm)("nzLayout","vertical"),e.xp6(2),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24),e.xp6(2),e.Q6J("ngIf",t.isDuplicateCodeDepot),e.xp6(2),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24),e.xp6(3),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24),e.xp6(3),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24),e.xp6(3),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24),e.xp6(1),e.Q6J("nzMaxCharacterCount",100)}}function W(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitDepot()}),e._uU(2),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelDepot()}),e._uU(4,"H\u1ee7y"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("nzLoading",t.depotSubmitting),e.xp6(1),e.hij(" ",t.editDepotFlag?"C\u1eadp nh\u1eadp ":"T\u1ea1o m\u1edbi kho h\xe0ng"," ")}}const ee=[{path:"",component:(()=>{class o{constructor(t,n,s){this.fb=t,this.deviceCategory=n,this.baseService=s,this.showCreateGroup=!1,this.listOfData=[],this.groupSubmitting=!1,this.showCreatItem=!1,this.editGroupFlag=!1,this.itemSubmitting=!1,this.editItemFlag=!1,this.showCreatDepot=!1,this.editDepotFlag=!1,this.depotSubmitting=!1,this.isDuplicateCodeDepot=!1,this.objFilterDepot={code:null,name:null,address:null,phone:null,note:null},this.deviceCategory.editCategoryGroupDialog$.subscribe(r=>{this.creategroup(!0),this.id=r.id,this.createGroupForm.controls.groupName.setValue(r.name),this.createGroupForm.controls.noteGroup.setValue(r.note)}),this.deviceCategory.editCategoryItemDialog$.subscribe(r=>{this.createItem(!0),this.idItem=r.id,this.createItemForm.controls.category.setValue(r.category.id),this.createItemForm.controls.itemName.setValue(r.name),this.createItemForm.controls.noteItem.setValue(r.unit),this.createItemForm.controls.isLockerCabinet.setValue(r.isLockerCabinet),this.createItemForm.controls.isBlock.setValue(r.isBlock),this.createItemForm.controls.type.setValue(r.isBlock?2:1)}),this.deviceCategory.editDepot$.subscribe(r=>{this.setValueDepot(r)})}ngOnInit(){this.createGroupForm=this.fb.group({groupName:[null,[u.kI.required]],noteGroup:[null]}),this.createItemForm=this.fb.group({category:[null,[u.kI.required]],itemName:[null,[u.kI.required]],noteItem:[null,[u.kI.required]],isLockerCabinet:[!1],isBlock:[!1],type:[null]}),this.createDepotForm=this.fb.group({code:[null,[u.kI.required]],name:[null,[u.kI.required]],address:[null],phone:[null],note:[]})}creategroup(t=!1){this.groupSubmitting=!1,this.showCreateGroup=!0,this.editGroupFlag=t,this.createGroupForm.controls.groupName.setValue(null),this.createGroupForm.controls.noteGroup.setValue(null)}getAllCategory(){this.deviceCategory.getDeviceCategory().subscribe(t=>{this.listOfCategory=t.data.data})}onChangeType(){1===this.createItemForm.controls.type.value?(this.createItemForm.controls.isLockerCabinet.setValue(!0),this.createItemForm.controls.isBlock.setValue(!1)):2===this.createItemForm.controls.type.value&&(this.createItemForm.controls.isLockerCabinet.setValue(!1),this.createItemForm.controls.isBlock.setValue(!0))}submitGroup(){for(const t in this.createGroupForm.controls)this.createGroupForm.controls.hasOwnProperty(t)&&(this.createGroupForm.controls[t].markAsDirty(),this.createGroupForm.controls[t].updateValueAndValidity());this.createGroupForm.invalid||(this.groupSubmitting=!0,this.editGroupFlag?(this.baseService.showLoading(!0),this.deviceCategory.updateDeviceCategory(this.id,this.createGroupForm.controls.groupName.value,this.createGroupForm.controls.noteGroup.value).subscribe(t=>{this.groupSubmitting=!1,this.baseService.showLoading(!1),t?(this.deviceCategory.reloadGroup(),this.baseService.showNotification("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng nh\xf3m thi\u1ebft b\u1ecb",c.gT.NOTI_OK)):this.baseService.showNotification("C\u1eadp nh\u1eadt kh\xf4ng th\xe0nh c\xf4ng nh\xf3m thi\u1ebft b\u1ecb",c.gT.NOTI_ERROR)},t=>{console.log("Kh\xf4ng g\u1eedi \u0111\u01b0\u1ee3c th\xf4ng tin c\u1eadp nh\u1eadt ",t)})):(this.baseService.showLoading(!0),this.deviceCategory.createDeviceCategory(this.createGroupForm.controls.groupName.value,this.createGroupForm.controls.noteGroup.value).subscribe(t=>{this.baseService.showLoading(!1),this.groupSubmitting=!1,t?(this.deviceCategory.reloadGroup(),this.baseService.showNotification("Kh\u1edfi t\u1ea1o th\xe0nh c\xf4ng nh\xf3m thi\u1ebft b\u1ecb",c.gT.NOTI_OK)):this.baseService.showNotification("Kh\u1edfi t\u1ea1o kh\xf4ng th\xe0nh c\xf4ng nh\xf3m thi\u1ebft b\u1ecb",c.gT.NOTI_ERROR)},t=>{console.log("Kh\xf4ng g\u1eedi \u0111\u01b0\u1ee3c th\xf4ng tin t\u1ea1o m\u1edbi ",t)})),this.cancelGroup())}cancelGroup(){this.showCreateGroup=!1}submitItem(){for(const t in this.createItemForm.controls)this.createItemForm.controls.hasOwnProperty(t)&&(this.createItemForm.controls[t].markAsDirty(),this.createItemForm.controls[t].updateValueAndValidity());this.createItemForm.invalid||(this.editItemFlag?(this.itemSubmitting=!0,this.baseService.showLoading(!0),this.deviceCategory.updateDeviceItem(this.idItem,this.createItemForm.controls.itemName.value,this.createItemForm.controls.category.value,this.createItemForm.controls.noteItem.value,this.createItemForm.controls.isLockerCabinet.value,this.createItemForm.controls.isBlock.value).subscribe(t=>{this.itemSubmitting=!1,this.baseService.showLoading(!1),t?(this.deviceCategory.reloadItem(),this.baseService.showNotification("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng thi\u1ebft b\u1ecb",c.gT.NOTI_OK),this.cancelItem()):this.baseService.showNotification("C\u1eadp nh\u1eadt kh\xf4ng th\xe0nh c\xf4ng thi\u1ebft b\u1ecb",c.gT.NOTI_ERROR)},t=>{console.log("Kh\xf4ng g\u1eedi \u0111\u01b0\u1ee3c th\xf4ng tin c\u1eadp nh\u1eadt ",t)})):(this.itemSubmitting=!0,this.baseService.showLoading(!0),this.deviceCategory.createDeviceItem(this.createItemForm.controls.itemName.value,this.createItemForm.controls.category.value,this.createItemForm.controls.noteItem.value,this.createItemForm.controls.isLockerCabinet.value,this.createItemForm.controls.isBlock.value).subscribe(t=>{this.itemSubmitting=!1,this.baseService.showLoading(!1),null!=t.data?(this.deviceCategory.reloadItem(),this.baseService.showNotification("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng thi\u1ebft b\u1ecb",c.gT.NOTI_OK),this.cancelItem()):this.baseService.showNotification("C\u1eadp nh\u1eadt kh\xf4ng th\xe0nh c\xf4ng nh\xf3m thi\u1ebft b\u1ecb",c.gT.NOTI_ERROR)},t=>{console.log("Kh\xf4ng g\u1eedi \u0111\u01b0\u1ee3c th\xf4ng tin c\u1eadp nh\u1eadt ",t)})))}cancelItem(){this.showCreatItem=!1}createItem(t=!1){this.itemSubmitting=!1,this.editItemFlag=t,this.showCreatItem=!0,this.createItemForm.controls.category.setValue(1),this.createItemForm.controls.itemName.setValue(null),this.createItemForm.controls.noteItem.setValue(null),this.createItemForm.controls.isLockerCabinet.setValue(!1),this.createItemForm.controls.isBlock.setValue(!1),this.createItemForm.controls.type.setValue(null),this.getAllCategory()}createDepot(){this.depotSubmitting=!1,this.showCreatDepot=!0,this.editDepotFlag=!1,this.createDepotForm.controls.code.enable(),this.createDepotForm.controls.code.setValue(null),this.createDepotForm.controls.name.setValue(null),this.createDepotForm.controls.address.setValue(null),this.createDepotForm.controls.phone.setValue(null),this.createDepotForm.controls.note.setValue("")}setValueDepot(t){this.showCreatDepot=!0,this.editDepotFlag=!0,this.idDepot=t.id,this.createDepotForm.controls.code.disable(),this.createDepotForm.controls.code.setValue(t.code),this.createDepotForm.controls.name.setValue(t.name),this.createDepotForm.controls.address.setValue(t.address),this.createDepotForm.controls.phone.setValue(t.phone),this.createDepotForm.controls.note.setValue(t.note)}buildObj(){this.objFilterDepot.code=this.createDepotForm.controls.code.value,this.objFilterDepot.name=this.createDepotForm.controls.name.value,this.objFilterDepot.address=this.createDepotForm.controls.address.value,this.objFilterDepot.phone=this.createDepotForm.controls.phone.value,this.objFilterDepot.note=this.createDepotForm.controls.note.value}submitDepot(){for(const t in this.createDepotForm.controls)this.createDepotForm.controls.hasOwnProperty(t)&&(this.createDepotForm.controls[t].markAsDirty(),this.createDepotForm.controls[t].updateValueAndValidity());!this.createDepotForm.invalid&&!this.isDuplicateCodeDepot&&(this.editDepotFlag?(this.depotSubmitting=!0,this.baseService.showLoading(!0),this.buildObj(),this.deviceCategory.updateDepotItem(this.objFilterDepot,this.idDepot).subscribe(t=>{t?(this.depotSubmitting=!1,this.deviceCategory.reloadDepotLocker(),this.baseService.showNotification("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng thi\u1ebft b\u1ecb",c.gT.NOTI_OK),this.cancelDepot()):this.baseService.showNotification("C\u1eadp nh\u1eadt kh\xf4ng th\xe0nh c\xf4ng thi\u1ebft b\u1ecb",c.gT.NOTI_ERROR)},t=>{console.log("Kh\xf4ng g\u1eedi \u0111\u01b0\u1ee3c th\xf4ng tin c\u1eadp nh\u1eadt ",t)})):(this.depotSubmitting=!0,this.baseService.showLoading(!0),this.buildObj(),this.deviceCategory.createDepotItem(this.objFilterDepot).subscribe(t=>{t?(this.depotSubmitting=!1,this.baseService.showLoading(!1),this.deviceCategory.reloadDepotLocker(),this.baseService.showNotification("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng thi\u1ebft b\u1ecb",c.gT.NOTI_OK),this.cancelDepot()):this.baseService.showNotification("C\u1eadp nh\u1eadt kh\xf4ng th\xe0nh c\xf4ng nh\xf3m thi\u1ebft b\u1ecb",c.gT.NOTI_ERROR)},t=>{console.log("Kh\xf4ng g\u1eedi \u0111\u01b0\u1ee3c th\xf4ng tin c\u1eadp nh\u1eadt ",t)})))}changeCodeDepot(){this.createDepotForm.controls.code.value&&this.deviceCategory.checkExistDepot(this.createDepotForm.controls.code.value).subscribe(t=>{this.isDuplicateCodeDepot=!(!t||!t.data)},t=>{})}cancelDepot(){this.showCreatDepot=!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.qu),e.Y36(C.e),e.Y36(c.bQ))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cms-device-category"]],decls:31,vars:8,consts:[[3,"title","close"],["action",""],["nz-button","","nzType","primary",1,"mr-3",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[1,"d-none","d-md-inline-block"],["nz-icon","","nzType","folder-add","nzTheme","outline"],["nz-button","","nzType","primary",3,"click"],["content",""],["nzTitle","Danh m\u1ee5c thi\u1ebft b\u1ecb"],["nzTitle","Nh\xf3m thi\u1ebft b\u1ecb "],["nzTitle","Kho h\xe0ng"],["nzTitle","T\u1ea1o m\u1edbi nh\xf3m thi\u1ebft b\u1ecb",3,"nzVisible","nzClosable","nzVisibleChange"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","T\u1ea1o m\u1edbi thi\u1ebft b\u1ecb",3,"nzVisible","nzClosable","nzVisibleChange"],["nzTitle","T\u1ea1o m\u1edbi kho h\xe0ng",3,"nzVisible","nzClosable","nzVisibleChange"],["nz-form","",1,"px-3",3,"formGroup","nzLayout","ngSubmit"],["nzFor","groupName","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp t\xean nh\xf3m thi\u1ebft b\u1ecb!",3,"nzSm","nzXs"],["nz-input","","id","groupName","formControlName","groupName","placeholder","Nh\u1eadp t\xean nh\xf3m thi\u1ebft b\u1ecb"],["nzFor","noteGroup",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],["nz-input","","id","noteGroup","formControlName","noteGroup","placeholder","Nh\u1eadp ghi ch\xfa"],["nz-button","","nzType","primary",1,"m-2",3,"nzLoading","click"],["nz-button","","nzType","default",3,"click"],["nz-form","",1,"px-3",3,"formGroup","ngSubmit"],["nzXs","24"],["formControlName","type",3,"ngModelChange"],["nz-radio","",3,"nzValue"],["nzFor","itemName","nzRequired","",3,"nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp t\xean thi\u1ebft b\u1ecb!",3,"nzXs"],["nz-input","","id","itemName","formControlName","itemName","placeholder","Nh\u1eadp t\xean nh\xf3m thi\u1ebft b\u1ecb",1,"pl-3"],["nzFor","category","nzRequired","",3,"nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp t\xean nh\xf3m thi\u1ebft b\u1ecb!",3,"nzXs"],["formControlName","category"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzFor","noteItem","nzRequired","",3,"nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp \u0111\u01a1n v\u1ecb!",3,"nzXs"],["nz-input","","id","noteItem","formControlName","noteItem","placeholder","Nh\u1eadp \u0111\u01a1n v\u1ecb",1,"pl-3"],[3,"nzValue","nzLabel"],["nz-form","",1,"px-3",3,"formGroup","nzLayout"],["nzFor","code","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp m\xe3 kho h\xe0ng!",3,"nzSm","nzXs"],["nz-input","","id","code","formControlName","code","placeholder","Nh\u1eadp m\xe3 kho h\xe0ng",1,"pl-3",3,"keyup.enter","blur"],["class","required",4,"ngIf"],["nzFor","name","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp t\xean kho h\xe0ng!",3,"nzSm","nzXs"],["nz-input","","id","name","formControlName","name","placeholder","Nh\u1eadp t\xean kho h\xe0ng",1,"pl-3"],["nzFor","address",3,"nzSm","nzXs"],["nz-input","","id","address","formControlName","address","placeholder","Nh\u1eadp \u0111\u1ecba ch\u1ec9",1,"pl-3"],["nzFor","phone",3,"nzSm","nzXs"],["nz-input","","id","phone","formControlName","phone","placeholder","Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",1,"pl-3"],["nzFor","note",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp ghi ch\xfa!",3,"nzSm","nzXs"],[3,"nzMaxCharacterCount"],["rows","4","formControlName","note","placeholder","Nh\u1eadp ghi ch\xfa","nz-input",""],[1,"required"]],template:function(t,n){1&t&&(e.TgZ(0,"cms-page",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e.NdJ("click",function(){return n.createItem()}),e._UZ(3,"i",3),e.TgZ(4,"span",4),e._uU(5,"T\u1ea1o m\u1edbi thi\u1ebft b\u1ecb"),e.qZA(),e.qZA(),e.TgZ(6,"a",2),e.NdJ("click",function(){return n.creategroup()}),e._UZ(7,"i",5),e.TgZ(8,"span",4),e._uU(9,"T\u1ea1o m\u1edbi nh\xf3m thi\u1ebft b\u1ecb"),e.qZA(),e.qZA(),e.TgZ(10,"a",6),e.NdJ("click",function(){return n.createDepot()}),e._UZ(11,"i",3),e.TgZ(12,"span",4),e._uU(13,"T\u1ea1o m\u1edbi kho"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"nz-tabset"),e.TgZ(16,"nz-tab",8),e._UZ(17,"cms-list-device-category"),e.qZA(),e.TgZ(18,"nz-tab",9),e._UZ(19,"cms-list-group-device-category"),e.qZA(),e.TgZ(20,"nz-tab",10),e._UZ(21,"cms-depot"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"nz-modal",11),e.NdJ("nzVisibleChange",function(r){return n.showCreateGroup=r}),e.YNc(23,P,14,10,"ng-container",12),e.YNc(24,Y,5,2,"div",13),e.qZA(),e.TgZ(25,"nz-modal",14),e.NdJ("nzVisibleChange",function(r){return n.showCreatItem=r}),e.YNc(26,H,28,10,"ng-container",12),e.YNc(27,$,5,2,"div",13),e.qZA(),e.TgZ(28,"nz-modal",15),e.NdJ("nzVisibleChange",function(r){return n.showCreatDepot=r}),e.YNc(29,j,34,24,"ng-container",12),e.YNc(30,W,5,2,"div",13),e.qZA()),2&t&&(e.Q6J("title","Thi\u1ebft l\u1eadp kho")("close",!1),e.xp6(22),e.Q6J("nzVisible",n.showCreateGroup)("nzClosable",!1),e.xp6(3),e.Q6J("nzVisible",n.showCreatItem)("nzClosable",!1),e.xp6(3),e.Q6J("nzVisible",n.showCreatDepot)("nzClosable",!1))},directives:[c.Zd,p.ix,z.w,m.Ls,T.xH,T.xw,k,B,X,h.du,h.Hf,h.Uh,u._Y,u.JL,d.Lr,u.sg,Z.SK,d.Nx,Z.t3,d.iK,d.Fd,f.Zp,u.Fj,u.JJ,u.u,M.dQ,b.Dg,b.Of,D.Vq,g.sg,D.Ip,g.O5,f.w],styles:[".width-full[_ngcontent-%COMP%]{width:100%}.style-input[_ngcontent-%COMP%]{width:100%;height:30px;border:1px solid #d9d9d9}.required[_ngcontent-%COMP%]{color:red;margin:0;font-size:12px;padding-left:15px;padding-top:5px}"]}),o})()}];let te=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[A.Bz.forChild(ee)],A.Bz]}),o})();var oe=a(52079);let ne=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.IR,g.ez,te,p.sL,m.PV,T.we,l.HQ,h.Qp,d.U5,Z.Jb,u.UX,D.LV,oe.Wr,f.o7,b.aF]]}),o})()}}]);