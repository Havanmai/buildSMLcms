"use strict";(self.webpackChunksmartlocker_workspace=self.webpackChunksmartlocker_workspace||[]).push([[728],{2728:(w,S,c)=>{c.r(S),c.d(S,{ServicesModule:()=>D});var g=c(8583),Z=c(9895),l=c(9090),a=c(3679),e=c(7716),h=c(6214),y=c(9765),T=c(1841);let f=(()=>{class n{constructor(t){this.http=t,this.reloadService$=new y.xQ}getAllService(t=0,o=10,r){let i="smartlocker-dichvu/api/v1/dich-vus?page="+t+"&size="+o+"&sort=id,desc";return r&&""!=r.trim()&&(i=i.concat("&code.equals",r)),this.http.get(i)}deleteService(t){return this.http.delete("smartlocker-dichvu/api/v1/dich-vus/"+t)}createService(t,o,r){return this.http.post("smartlocker-dichvu/api/v1/dich-vus",JSON.stringify({code:t,description:r,name:o}))}updateService(t,o,r,i){return this.http.put("smartlocker-dichvu/api/v1/dich-vus/"+t,JSON.stringify({id:t,code:o,description:i,name:r}))}reloadService(){this.reloadService$.next()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var m=c(5887),p=c(6704),C=c(2677),d=c(7674),v=c(4453),A=c(9374),_=c(4514);function F(n,s){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",0==t.editModal?"T\u1ea1o m\u1edbi":"Ch\u1ec9nh s\u1eeda"," ")}}function b(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitContent()}),e._uU(2," C\u1eadp nh\u1eadt "),e.qZA(),e.TgZ(3,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelContent()}),e._uU(4,"H\u1ee7y"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("nzLoading",t.createSubmitting)}}let E=(()=>{class n{constructor(t,o,r,i){this.fb=t,this.modalRef=o,this.baseService=r,this.serviceService=i,this.createSubmitting=!1,this.listOfOption=[],this.page=0,this.size=10,this.totalReceiver=0,this.isLoading=!1,this.nzFilterOption=()=>!0}ngOnInit(){this.createContentForm=this.fb.group({name:[null,[a.kI.required]],code:[null,[a.kI.required]],description:[null]}),this.data?(this.editModal=!0,this.id=this.data.id,this.createContentForm.controls.code.setValue(this.data.code),this.createContentForm.controls.name.setValue(this.data.name),this.createContentForm.controls.description.setValue(this.data.description)):(this.editModal=!1,this.createContentForm.controls.code.setValue(null),this.createContentForm.controls.name.setValue(null),this.createContentForm.controls.description.setValue(null))}submitContent(){for(const t in this.createContentForm.controls)this.createContentForm.controls.hasOwnProperty(t)&&(this.createContentForm.controls[t].markAsDirty(),this.createContentForm.controls[t].updateValueAndValidity());if(!this.createContentForm.invalid){let t=this.createContentForm.controls.code.value,o=this.createContentForm.controls.name.value,r=this.createContentForm.controls.description.value;this.editModal?this.serviceService.updateService(this.id,t,o,r).subscribe(i=>{0==i.error&&(this.baseService.showToast("Ch\u1ec9nh s\u1eeda th\xe0nh c\xf4ng d\u1ecbch v\u1ee5 ",l.gT.TOAST_OK),this.serviceService.reloadService(),this.cancelContent())},i=>{console.log("Request s\u1eeda d\u1ecbch v\u1ee5 kh\xf4ng th\xe0nh c\xf4ng",i)}):this.serviceService.createService(t,o,r).subscribe(i=>{0==i.error&&(this.baseService.showToast("Kh\u1edfi t\u1ea1o th\xe0nh c\xf4ng d\u1ecbch v\u1ee5 m\u1edbi",l.gT.TOAST_OK),this.serviceService.reloadService(),this.cancelContent())},i=>{console.log("Request t\u1ea1o m\u1edbi d\u1ecbch v\u1ee5 kh\xf4ng th\xe0nh c\xf4ng",i)})}}cancelContent(){this.modalRef.destroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(h.Lf),e.Y36(l.bQ),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cms-create"]],inputs:{data:"data"},decls:24,vars:15,consts:[[4,"nzModalTitle"],["nz-form","",1,"px-3",3,"formGroup","nzLayout","ngSubmit"],["nzFor","code","nzRequired","",3,"nzSm","nzXs"],["nz-typography",""],["nzErrorTip","Vui l\xf2ng nh\u1eadp m\xe3 d\u1ecbch v\u1ee5!",3,"nzSm","nzXs"],["nz-input","","id","code","formControlName","code","placeholder","Nh\u1eadp m\xe3 d\u1ecbch v\u1ee5 ",1,"pl-3"],["nzFor","name","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp t\xean d\u1ecbch v\u1ee5!",3,"nzSm","nzXs"],["nz-input","","id","name","formControlName","name","placeholder","Nh\u1eadp t\xean d\u1ecbch v\u1ee5",1,"pl-3"],["nzFor","description",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp m\xf4 t\u1ea3!",3,"nzSm","nzXs"],[3,"nzMaxCharacterCount"],["rows","4","formControlName","description","nz-input",""],[4,"nzModalFooter"],["nz-button","","nzType","primary",1,"m-2",3,"nzLoading","click"],["nz-button","","nzType","default",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e.YNc(1,F,2,1,"div",0),e.TgZ(2,"div"),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return o.submitContent()}),e.TgZ(4,"nz-form-item"),e.TgZ(5,"nz-form-label",2),e.TgZ(6,"span",3),e._uU(7,"M\xe3 d\u1ecbch v\u1ee5"),e.qZA(),e.qZA(),e.TgZ(8,"nz-form-control",4),e._UZ(9,"input",5),e.qZA(),e.qZA(),e.TgZ(10,"nz-form-item"),e.TgZ(11,"nz-form-label",6),e.TgZ(12,"span",3),e._uU(13,"T\xean d\u1ecbch v\u1ee5"),e.qZA(),e.qZA(),e.TgZ(14,"nz-form-control",7),e._UZ(15,"input",8),e.qZA(),e.qZA(),e.TgZ(16,"nz-form-item"),e.TgZ(17,"nz-form-label",9),e.TgZ(18,"span",3),e._uU(19,"M\xf4 t\u1ea3"),e.qZA(),e.qZA(),e.TgZ(20,"nz-form-control",10),e.TgZ(21,"nz-textarea-count",11),e._UZ(22,"textarea",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(23,b,5,1,"div",13),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",o.createContentForm)("nzLayout","vertical"),e.xp6(2),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24),e.xp6(3),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24),e.xp6(3),e.Q6J("nzSm",22)("nzXs",24),e.xp6(3),e.Q6J("nzSm",24)("nzXs",24),e.xp6(1),e.Q6J("nzMaxCharacterCount",100))},directives:[h.h1,a._Y,a.JL,m.Lr,a.sg,p.SK,m.Nx,p.t3,m.iK,C.ZU,m.Fd,d.Zp,a.Fj,a.JJ,a.u,d.w,h.Uh,v.ix,A.dQ,_.w],styles:[""]}),n})();class J{constructor(s){this.parse(s)}parse(s){this.id=s.id,this.code=s.code,this.name=s.name,this.description=s.description}}var x=c(3599),u=c(471);function q(n,s){1&n&&e._UZ(0,"i",17)}function M(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"a",18),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().editServices(i)}),e._UZ(9,"i",19),e.qZA(),e.TgZ(10,"button",20),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().deleteServices(i)}),e._UZ(11,"i",21),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.code?t.code:"-"),e.xp6(2),e.Oqu(t.name?t.name:"-"),e.xp6(2),e.Oqu(t.description?t.description:"-")}}function U(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("T\u1ed5ng ",t.total," b\u1ea3n ghi")}}function k(n,s){if(1&n&&e.YNc(0,U,2,1,"span",22),2&n){const t=e.oxw();e.Q6J("ngIf",t.total)}}const O=[{path:"",component:(()=>{class n{constructor(t,o,r){this.baseService=t,this.modal=o,this.serviceService=r,this.page=1,this.size=10,this.total=0,this.keyword="",this.listServices=[],this.serviceService.reloadService$.subscribe(i=>{this.page=1,this.size=10,this.reloadPage()})}ngOnInit(){this.page=1,this.size=10,this.reloadPage()}reloadPage(){this.baseService.showLoading(!0),this.serviceService.getAllService(this.page-1,this.size,this.keyword).subscribe(t=>{this.baseService.showLoading(!1),0==t.error&&this.responseProcess(t)})}responseProcess(t){this.listServices=[],this.total=t.data.total,t.data&&t.data.data&&t.data.data.length>0&&t.data.data.forEach(o=>{let r=new J(o);this.listServices.push(r)})}pageChange(t){this.page=t,this.reloadPage()}searchKey(t){this.page=1,this.size=10,this.keyword=t,this.reloadPage()}deleteServices(t){this.modal.confirm({nzTitle:"<i>B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a d\u1ecbch v\u1ee5 "+t.name+"n\xe0y kh\xf4ng?</i>",nzOnOk:()=>{this.baseService.showLoading(!0),this.serviceService.deleteService(t.id).subscribe(o=>{this.baseService.showLoading(!1),0===o.error&&(this.baseService.showToast("X\xf3a d\u1ecbch v\u1ee5 th\xe0nh c\xf4ng",l.gT.TOAST_OK),this.reloadPage())})},nzClosable:!1,nzCancelText:"T\xf4i kh\xf4ng mu\u1ed1n",nzOkText:"\u0110\u1ed3ng \xfd"})}createService(){this.modal.create({nzContent:E,nzClosable:!1})}editServices(t){this.modal.create({nzContent:E,nzComponentParams:{data:t},nzClosable:!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.bQ),e.Y36(h.Sf),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cms-services"]],decls:32,vars:11,consts:[["title","Qu\u1ea3n l\xfd d\u1ecbch v\u1ee5",3,"close"],["action",""],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[1,"d-none","d-md-inline-block"],["content",""],["nz-row","",1,"mt-3","mb-4","filter-panel",3,"nzGutter"],["nz-col","","nzXs","8","nzSm","14","nzMd","6","nzLg","6","nzXl","5","nzXXl","5",1,"mt-4"],[3,"nzPrefix"],["type","text","nz-input","","placeholder","M\xe3 d\u1ecbch v\u1ee5",3,"ngModel","ngModelChange","keyup.enter"],["suffixIconSearch",""],["nz-col","","nzXs","6","nzSm","4","nzMd","4","nzLg","3","nzXl","3","nzXXl","3",1,"mt-4"],["nz-icon","","nzType","search","nzTheme","outline"],[3,"nzData","nzFrontPagination","nzPageSize","nzPageIndex","nzTotal","nzFooter","nzPageIndexChange"],["nzWidth","160px"],[4,"ngFor","ngForOf"],["footer",""],["nz-icon","","nzType","search"],["nz-button","","nzType","text","title","S\u1eeda",1,"mr-1",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nzType","text","title","X\xf3a",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline",1,"text-danger"],[4,"ngIf"]],template:function(t,o){if(1&t&&(e.TgZ(0,"cms-page",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e.NdJ("click",function(){return o.createService()}),e._UZ(3,"i",3),e.TgZ(4,"span",4),e._uU(5,"T\u1ea1o m\u1edbi"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"nz-input-group",8),e.TgZ(10,"input",9),e.NdJ("ngModelChange",function(i){return o.keyword=i})("keyup.enter",function(i){return o.searchKey(i)}),e.qZA(),e.qZA(),e.YNc(11,q,1,0,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"button",2),e.NdJ("click",function(){return o.reloadPage()}),e._UZ(15,"i",12),e._uU(16," T\xecm ki\u1ebfm "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"nz-table",13),e.NdJ("nzPageIndexChange",function(i){return o.pageChange(i)}),e.TgZ(18,"thead"),e.TgZ(19,"tr"),e.TgZ(20,"th"),e._uU(21,"M\xe3"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"T\xean d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"M\xf4 t\u1ea3"),e.qZA(),e.TgZ(26,"th",14),e._uU(27,"H\xe0nh \u0111\u1ed9ng"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"tbody"),e.YNc(29,M,12,3,"tr",15),e.qZA(),e.YNc(30,k,1,1,"ng-template",null,16,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&t){const r=e.MAs(12),i=e.MAs(31);e.Q6J("close",!1),e.xp6(7),e.Q6J("nzGutter",12),e.xp6(2),e.Q6J("nzPrefix",r),e.xp6(1),e.Q6J("ngModel",o.keyword),e.xp6(7),e.Q6J("nzData",o.listServices)("nzFrontPagination",!1)("nzPageSize",o.size)("nzPageIndex",o.page)("nzTotal",o.total)("nzFooter",i),e.xp6(12),e.Q6J("ngForOf",o.listServices)}},directives:[l.Zd,v.ix,_.w,x.Ls,p.SK,p.t3,d.gB,d.ke,d.Zp,a.Fj,a.JJ,a.On,A.dQ,u.N8,u.Om,u.$Z,u.Uo,u._C,u.p0,g.sg,g.O5],styles:[""]}),n})()}];let X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(O)],Z.Bz]}),n})();var N=c(7018),Q=c(269),P=c(2079),B=c(6442),L=c(3845);let D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,X,N.vh,l.IR,v.sL,x.PV,d.o7,m.U5,a.u5,a.UX,p.Jb,u.HQ,Q.LV,P.Wr,C.ZJ,B.mS,L.X,h.Qp,T.JF]]}),n})()}}]);